<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body onkeydown="NextCharacter(event)" onselectstart="return false;">
    <div class="center">
        <div class="description">
            <span class="special">V</span>-Santos.pl<br />
            <span class="adddescription">Odkryj Role Play na nowo!</span><br />
            <span class="info">Gratulacje! Logowanie pomyślne...</span>
        </div>
        <div id="panel">
            <div class="input-group">
                <span class="input-group-addon" style="background: url(Images/id-card.png); background-repeat: no-repeat; background-color: #eee; background-position: center;"></span>
                <input type="text" class="input" id="uid" disabled="disabled">
            </div>
            <div id="box3d"></div>
            <div class="input-group">
                <span class="input-group-addon" style="background: url(Images/name-card.png); background-repeat: no-repeat; background-color: #eee; background-position: center;"></span>
                <input type="text" class="input" id="name" name="name" disabled="disabled">
            </div>
            <div id="box3d"></div>
            <div class="input-group">
                <span class="input-group-addon" style="background: url(Images/surname-card.png); background-repeat: no-repeat; background-color: #eee; background-position: center;"></span>
                <input type="text" class="input" id="surname" name="surname" disabled="disabled">
            </div>
            <div id="box3d"></div>
            <div class="input-group">
                <span class="input-group-addon" style="background: url(Images/money-card.png); background-repeat: no-repeat; background-color: #eee; background-position: center;"></span>
                <input type="text" class="input" id="money" name="money" disabled="disabled">
            </div>
            <div id="box3d"></div>
            <div class="input-group">
                <span class="input-group-addon" style="background: url(Images/credit-card.png); background-repeat: no-repeat; background-color: #eee; background-position: center;"></span>
                <input type="text" class="input" id="moneyBank" name="moneyBank" disabled="disabled">
            </div>
            <div id="box3d"></div>
            <div id="lower">
                <div class="login">
                    <button id="loginbutton">Wybierz postać</button>
                </div>
            </div>
        </div>
        <script>
            var index = 0;
            var collection;

            document.addEventListener("DOMContentLoaded", function (event) {
                resourceCall("GetPlayerCharacters");
            });

            function LoadCharacters(charactersList) {
                collection = JSON.parse(charactersList);
                
                document.getElementById("uid").value = collection[index].Id;
                document.getElementById("name").value = collection[index].Name;
                document.getElementById("surname").value = collection[index].Surname;
                document.getElementById("money").value = "$" + collection[index].Money;
                document.getElementById("moneyBank").value = "$" + collection[index].BankMoney;
            }

            document.getElementById("loginbutton").onclick = function () {
                resourceCall("SelectCharacter", document.getElementById("uid").value);
            };

            function NextCharacter(event)
            {
                var x = event.keyCode;
                switch (x)
                {
                    //Enter
                    case 13:
                        resourceCall("SelectCharacter", document.getElementById("uid").value);
                        return;
                    //Strzałka w lewo lub A
                    case 37:
                    case 65:
                        if (index > 0)
                        {
                            index--;
                        }
                        break;
                    //Strzałka w prawo lub D
                    case 39:
                    case 68:
                        if (index < collection.length - 1)
                        {
                            index++;
                        }
                        break;
                    default:
                        return;
                }

                document.getElementById("uid").value = collection[index].Id;
                document.getElementById("name").value = collection[index].Name;
                document.getElementById("surname").value = collection[index].Surname;
                document.getElementById("money").value = "$" + collection[index].Money;
                document.getElementById("moneyBank").value = "$" + collection[index].BankMoney;

            }
        </script>
    </div>
</body>
</html>
